default_stages: [commit, push]

repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.4.0
    hooks:
      - id: trailing-whitespace
      - id: check-yaml
      - id: check-toml
      - id: debug-statements
      - id: double-quote-string-fixer
      - id: name-tests-testgit
  - repo: https://github.com/grantjenks/blue
      rev: v0.9.1
      hooks:
        - id: blue
          args: ["-l", "79"]
      language_version: python3.12
  - repo: https://github.com/pycqa/flake8
      rev: 6.0.0
      hooks:
        - id: flake8
  - repo: https://github.com/pycqa/isort
      rev: 5.11.2
      hooks:
        - id: isort
          name: isort (python)
  - repo: https://github.com/pre-commit/mirrors-mypy
      rev: v0.931
      hooks:
        - id: mypy
          additional_dependencies: [types-PyYAML]
  - repo: local
      hooks:
        - id: pytest
          name: pytest
          language: system
          entry: pytest -s -v tests/
          types: [python]
          pass_filenames: false
          always_run: true
          - id: pytest-cov
            name: pytest-cov
            language: system
            entry: pytest -v --cov=ethosu --cov-fail-under=0
            types: [python]
            pass_filenames: false
            always_run: true
      